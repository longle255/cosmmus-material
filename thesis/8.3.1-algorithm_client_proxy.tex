\begin{algorithm}[htbp!]
%\small
\footnotesize

\begin{distribalgo}[1]

%\vspace{1.0mm}

\INDENT{\colorbox{\coloralgo}{To issue a command $C$, the client does:}}

\vspace{1.0mm}
		\STATE \amcast$($oracle, $exec(C))$
		\COMMENT{multicast command to $oracle$}
		\STATE wait for $prophecy$
		\IF[if receive $nok$ then...]{$prophecy = nok$}
			\STATE $reply \leftarrow prophecy$
			\COMMENT{...there's nothing to execute}
		\ELSE[in this case, $prophecy$ is $(dest)$]
			\STATE wait for $reponse$ from a server in $prophecy$
			\STATE $reply \leftarrow reponse$
		\ENDIF
\STATE return $reply$ to the application

\vspace{1.0mm}
\ENDINDENT

\caption{Client}
\label{alg:dynastar-client_proxy}
\end{distribalgo}
\end{algorithm}
