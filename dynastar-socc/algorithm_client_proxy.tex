\begin{algorithm}[t!]
\small

\begin{distribalgo}[1]

%\vspace{1.0mm}

\INDENT{\colorbox{\coloralgo}{To issue a command $C$, the client does:}}

\vspace{1.0mm}
	\STATE \amcast$($oracle, $consult(C))$
	\COMMENT{$C$ could be either $create(v)$ or $access(\omega)$}
	\STATE wait for $prophecy$
	\IF[if receive $nok$ then...]{$prophecy \in \{nok\}$}
		\STATE $reply \leftarrow prophecy$
		\COMMENT{...there's nothing to execute}
	\ELSE[in this case, $prophecy$ is $(dest)$]
		\STATE wait for $reponse$ from a server in $dest$
		\STATE $reply \leftarrow reponse$
	\ENDIF
\STATE return $reply$ to the application
\ENDINDENT

\caption{Client}
\label{alg:client_proxy}
\end{distribalgo}
\end{algorithm}